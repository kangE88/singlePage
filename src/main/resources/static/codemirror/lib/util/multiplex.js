CodeMirror.multiplexingMode=function(e){function n(e,n,r){if("string"==typeof n)return e.indexOf(n,r);var t=n.exec(r?e.slice(r):e);return t?t.index+r:-1}var r=Array.prototype.slice.call(arguments,1),t=r.length;return{startState:function(){return{outer:CodeMirror.startState(e),innerActive:null,inner:null}},copyState:function(n){return{outer:CodeMirror.copyState(e,n.outer),innerActive:n.innerActive,inner:n.innerActive&&CodeMirror.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var c=o.innerActive,u=i.string,a=n(u,c.close,i.pos);if(a==i.pos)return i.match(c.close),o.innerActive=o.inner=null,c.delimStyle;a>-1&&(i.string=u.slice(0,a));var s=c.mode.token(i,o.inner);a>-1&&(i.string=u);var d=i.current(),a=d.indexOf(c.close);return a>-1&&i.backUp(d.length-a),s}for(var l=1/0,u=i.string,v=0;t>v;++v){var f=r[v],a=n(u,f.open,i.pos);if(a==i.pos)return i.match(f.open),o.innerActive=f,o.inner=CodeMirror.startState(f.mode,e.indent?e.indent(o.outer,""):0),f.delimStyle;-1!=a&&l>a&&(l=a)}l!=1/0&&(i.string=u.slice(0,l));var p=e.token(i,o.outer);return l!=1/0&&(i.string=u),p},indent:function(n,r){var t=n.innerActive?n.innerActive.mode:e;return t.indent?t.indent(n.innerActive?n.inner:n.outer,r):CodeMirror.Pass},electricChars:e.electricChars,innerMode:function(n){return n.inner?{state:n.inner,mode:n.innerActive.mode}:{state:n.outer,mode:e}}}};